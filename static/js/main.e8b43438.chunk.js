/*! For license information please see main.e8b43438.chunk.js.LICENSE.txt */
(this["webpackJsonpacleap-referral"]=this["webpackJsonpacleap-referral"]||[]).push([[2],{233:function(e,t,n){e.exports=n(324)},238:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(36),i=n.n(o),l=(n(238),n(48)),c={loginType:l.LoginType.Popup,tokenRefreshUri:window.location.origin+"/auth.html"},u=new l.MsalAuthProvider({auth:{authority:"https://login.microsoftonline.com/deb9a8fc-5f84-44dd-9111-a11c0184e1cd/",clientId:"1f6c1a25-e500-477b-a23f-23a6427c3307",redirectUri:"https://chronic-care.github.io/acleap-referral/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}},{scopes:["user.read"]},c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(250);var s=n(205),d=n(28),f=n(206),v=n(399),h=n(8),m=n(400),p=Object(h.a)("main")((function(e){return{backgroundColor:e.theme.palette.grey[100]}})),g=(Object(h.a)(m.a)((function(e){return{textTransform:"none"}})),n(415)),y=n(414),E=n(408),b=n(67),w=n(38),x=n(24),O=n(7),S=n(333),k=n(417),N=n(421),j=n(420),L=n(416),R=n(419),I=n(3),A=n(406),_=n(411),P=n(388),D=n(413),C=n(407),F=n(418),T=n(422),q=n(398),G=n(425),B=n(403),Y=n(396),M=n(423),z=n(424),H=n(404),W=n(426),U=function(e){return e.Received="Received",e.Assigned="Assigned",e.In_progress="In progress",e.Entered_in_HMIS="Entered in HMIS",e.Rejected="Rejected",e.Contact_unsuccessful="Contact unsuccessful",e.service_not_needed="Service not Needed",e.on_hold="On Hold",e.entered_in_error="Entered in error",e}({}),J=n(35),K=n(199),$=n(410),Q=n(149),V=n.n(Q),X=n(151),Z=n.n(X),ee=n(150),te=n.n(ee),ne=n(148),re=n.n(ne),ae=n(90),oe=n.n(ae);function ie(){ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),l=new R(r||[]);return a(i,"_invoke",{value:k(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",v="executing",h="completed",m={};function p(){}function g(){}function y(){}var E={};u(E,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(E=w);var x=y.prototype=p.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=f;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}var le=function(){var e=Object(x.a)(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.oauth2.ready();case 2:return n=e.sent,e.prev=3,e.next=6,n.request("Task/".concat(t,"-task"));case 6:return r=e.sent,console.log("task response",r),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(3),console.error("Error fetching Task: ",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),ce=n(395);function ue(){ue=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),l=new R(r||[]);return a(i,"_invoke",{value:k(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",v="executing",h="completed",m={};function p(){}function g(){}function y(){}var E={};u(E,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(E=w);var x=y.prototype=p.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=f;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}var se="https://acleapbackendservice.azurewebsites.net",de=function(){var e=Object(x.a)(ue().mark((function e(t){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!ce.a.isAxiosError(e.t0)){e.next=13;break}return e.abrupt("return",{success:!1,message:"Error pinging server: ".concat(e.t0)});case 13:return e.abrupt("return",{success:!1,message:"Error pinging server: An unexpected error occurred"});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(x.a)(ue().mark((function e(t,n){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.post("".concat(se,"/update/Task/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:if(e.prev=7,e.t0=e.catch(0),!ce.a.isAxiosError(e.t0)){e.next=13;break}return e.abrupt("return",{success:!1,message:"Error pinging server: ".concat(e.t0)});case 13:return e.abrupt("return",{success:!1,message:"Error pinging server: An unexpected error occurred"});case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(x.a)(ue().mark((function e(){var t,n,r,a,o,i,l,c;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(se,"/Task"),n="".concat(se,"/ServiceRequest"),r="".concat(se,"/Patient"),a="".concat(se,"/PractitionerRole"),e.next=6,de(t);case 6:return o=e.sent,console.log("Tasks from Server: ",o),e.next=10,de(r);case 10:return i=e.sent,e.next=13,de(n);case 13:return l=e.sent,e.next=16,de(a);case 16:return c=e.sent,e.abrupt("return",{patient:i,serviceRequests:l,tasks:o,practitionerRole:c});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=["children"];function me(e){var t=Object(J.a)(),n=e.count,r=e.page,o=e.rowsPerPage,i=e.onPageChange;return a.a.createElement(A.a,{sx:{flexShrink:0,ml:2.5}},a.a.createElement($.a,{onClick:function(e){i(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===t.direction?a.a.createElement(re.a,null):a.a.createElement(V.a,null)),a.a.createElement($.a,{onClick:function(e){i(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===t.direction?a.a.createElement(te.a,null):a.a.createElement(Z.a,null)),a.a.createElement($.a,{onClick:function(e){i(e,r+1)},disabled:r>=Math.ceil(n/o)-1,"aria-label":"next page"},"rtl"===t.direction?a.a.createElement(Z.a,null):a.a.createElement(te.a,null)),a.a.createElement($.a,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/o)-1))},disabled:r>=Math.ceil(n/o)-1,"aria-label":"last page"},"rtl"===t.direction?a.a.createElement(V.a,null):a.a.createElement(re.a,null)))}var pe,ge,ye,Ee=[(pe="Assigned Armando for Outreach",ge="Armando Garcia",ye="01/01/23",{noteText:pe,author:ge,date:ye})],be=function(e){var t,n,o;console.log("props",e);var i=Object(r.useState)(null===(t=e.tasks)||void 0===t?void 0:t.taskBusinessStatus),l=Object(O.a)(i,2),c=l[0],u=l[1],s=Object(r.useState)(0),d=Object(O.a)(s,2),f=d[0],v=d[1],h=Object(r.useState)(5),p=Object(O.a)(h,2),x=p[0],J=p[1],$=Object(r.useState)([]),Q=Object(O.a)($,2),V=Q[0],X=Q[1],Z=Object(r.useState)({businessStatus:"",owner:"",note:""}),ee=Object(O.a)(Z,2),te=ee[0],ne=ee[1],re=Object(r.useState)(null===(n=e.tasks)||void 0===n?void 0:n.taskOwner),ae=Object(O.a)(re,2),oe=ae[0],ie=ae[1],ce=Object(r.useState)(null),ue=Object(O.a)(ce,2),se=(ue[0],ue[1]),de=Object(r.useState)(0),ve=Object(O.a)(de,2),pe=ve[0],ge=ve[1];Object(r.useEffect)((function(){var t,n,r=null===(t=e.tasks)||void 0===t?void 0:t.taskServiceRequestId;console.log("taskServiceRequestId",null===(n=e.tasks)||void 0===n?void 0:n.taskServiceRequestId),r&&le(r).then((function(e){console.log("response",e),se(e)}))}),[]),Object(r.useEffect)((function(){if(console.log("ACLPractitionerRole",e.practitionerRole),e.practitionerRole){var t=e.practitionerRole.map((function(e){return e.practitionerName}));X(t)}u((function(){if(void 0!==(null===xe||void 0===xe?void 0:xe.taskBusinessStatus))return xe&&Object.values(U).includes(null===xe||void 0===xe?void 0:xe.taskBusinessStatus)?xe.taskBusinessStatus:U.Received}))}),[e.tasks]);var ye=function(t,n){if("backdropClick"!==n){u(void 0);var r=Object(w.a)(Object(w.a)({},te),{},{createdDate:(new Date).toISOString()});e.onClose(),console.log("payload",r)}},be=e.patient,we=e.service,xe=e.tasks;return a.a.createElement(_.a,{disableEscapeKeyDown:!0,open:e.open,onClose:ye,maxWidth:"lg",fullWidth:!0,className:"dialogue-size"},a.a.createElement(P.a,null,"Referral: ",null===be||void 0===be?void 0:be.firstName," ",null===be||void 0===be?void 0:be.lastName),a.a.createElement(D.a,{dividers:!0},a.a.createElement(A.a,null,a.a.createElement(S.a,{variant:"h6"},a.a.createElement("b",null,"Referral Information")),a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,xs:6},a.a.createElement(y.a,{variant:"outlined"},a.a.createElement("div",{style:{height:350,padding:"4px"}},a.a.createElement(g.a,{className:""},a.a.createElement(E.a,{container:!0,spacing:3},a.a.createElement(E.a,{item:!0,xs:6},a.a.createElement(C.a,{className:"",elevation:0},a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"First name: "),null===be||void 0===be?void 0:be.firstName),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Last name: "),null===be||void 0===be?void 0:be.lastName),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Birth date: "),null===be||void 0===be?void 0:be.birthDate),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Gender: "),null===be||void 0===be?void 0:be.gender),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Ethnicity: "),null===be||void 0===be?void 0:be.ethnicity),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Phone: "),null===be||void 0===be?void 0:be.phone),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"E-mail: "),null===be||void 0===be?void 0:be.email),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Referral ID: "),null===we||void 0===we?void 0:we.referralID)))),a.a.createElement(E.a,{item:!0,xs:6},a.a.createElement(C.a,{className:"",elevation:0},a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Service Requested "),null===we||void 0===we?void 0:we.serviceRequested),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Race "),null===be||void 0===be?void 0:be.race),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Sex at Birth "),null===be||void 0===be?void 0:be.sexAtBirth),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Gender Identity "),null===be||void 0===be?void 0:be.genderIdentity),a.a.createElement(S.a,{variant:"body1",my:1},a.a.createElement("b",null,"Sexual Orientation "),null===be||void 0===be?void 0:be.sexualOrientation))))))))),a.a.createElement(E.a,{item:!0,xs:6},a.a.createElement(y.a,{variant:"outlined"},a.a.createElement("div",{style:{height:350,padding:"16px"}},a.a.createElement(S.a,null,a.a.createElement("b",null,"Initial Referral Note:")),a.a.createElement(S.a,null,null===we||void 0===we?void 0:we.intialReferralNote))))),a.a.createElement("br",null),a.a.createElement(S.a,{variant:"subtitle1",color:K.a[800],mb:1},a.a.createElement("b",null,"Notes History")),a.a.createElement(L.a,{component:function(e){var t=e.children,n=Object(b.a)(e,he);return a.a.createElement(y.a,Object.assign({},n,{variant:"outlined"}),t)}},a.a.createElement(k.a,{sx:{minWidth:700},"aria-label":"custom pagination table"},a.a.createElement(F.a,null,a.a.createElement(R.a,null,a.a.createElement(j.a,null,"Note text"),a.a.createElement(j.a,null,"Author"),a.a.createElement(j.a,null,"Date"))),a.a.createElement(N.a,null,void 0===(null===xe||void 0===xe?void 0:xe.taskNotes)?a.a.createElement(R.a,null,a.a.createElement(j.a,{colSpan:12},a.a.createElement("div",{className:"container "},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12"},a.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},"No Notes Exist for this Service Request")))))):null===xe||void 0===xe||null===(o=xe.taskNotes)||void 0===o?void 0:o.map((function(e,t){return a.a.createElement(R.a,{key:t},a.a.createElement(j.a,{width:800},null===e||void 0===e?void 0:e.noteText),a.a.createElement(j.a,null,null===e||void 0===e?void 0:e.noteAuthor),a.a.createElement(j.a,null,null===e||void 0===e?void 0:e.noteAuthoredDate))}))),a.a.createElement(T.a,null,a.a.createElement(R.a,null,a.a.createElement(q.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:Ee.length,rowsPerPage:x,page:f,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,t){v(t)},onRowsPerPageChange:function(e){J(parseInt(e.target.value,10)),v(0)},ActionsComponent:me}))))),a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,xs:4},a.a.createElement("div",{style:{padding:"16px"}},a.a.createElement("form",null,a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,xs:12},a.a.createElement(S.a,{variant:"subtitle2",color:K.a[800],m:1},"Assigned Status"),a.a.createElement(G.a,{sx:{m:1,minWidth:120}},a.a.createElement(B.a,{htmlFor:"input-status"},"Status"),a.a.createElement(Y.a,{labelId:"input-status-label",name:"businessStatus",value:void 0===c?"Received":c,onChange:function(e){var t=e.target,n=t.value,r=t.name;u(n),ne(Object(w.a)(Object(w.a)({},te),{},Object(I.a)({},r,n)))},input:a.a.createElement(M.a,{label:"Status"})},Object.values(U).map((function(e){return a.a.createElement(z.a,{key:e,value:e},e)}))))),a.a.createElement(E.a,{item:!0,xs:12},a.a.createElement(S.a,{variant:"subtitle2",color:K.a[800],m:1},"Assigned Owner"),a.a.createElement(G.a,{sx:{m:1,minWidth:120}},a.a.createElement(B.a,{htmlFor:"input-status"},"Owner"),a.a.createElement(Y.a,{labelId:"input-owner-label",name:"owner",value:oe,onChange:function(e){var t=e.target,n=t.value,r=t.name;ie(n),ne(Object(w.a)(Object(w.a)({},te),{},Object(I.a)({},r,n)))},input:a.a.createElement(M.a,{label:"Owner"})},V.map((function(e,t){return a.a.createElement(z.a,{key:t,value:e},e)}))))))))),a.a.createElement(E.a,{item:!0,xs:8},a.a.createElement("div",{style:{padding:"16px"}},a.a.createElement(S.a,{variant:"subtitle2",color:K.a[800],mb:1},"Add Notes(optional) "),a.a.createElement(H.a,{label:"Enter Text",multiline:!0,fullWidth:!0,variant:"outlined",rows:4,name:"note",onChange:function(e){!function(e){var t=e.target,n=t.value,r=t.name;ne(Object(w.a)(Object(w.a)({},te),{},Object(I.a)({},r,n))),ge(n.length)}(e)},inputProps:{maxLength:100}}),a.a.createElement(S.a,{variant:"caption",color:K.a[800],mb:1},pe,"/100")))))),a.a.createElement(W.a,null,a.a.createElement(m.a,{color:"error",onClick:ye},"Cancel"),a.a.createElement(m.a,{color:"primary",onClick:function(){var t,n=te.businessStatus,r=te.owner,a=te.note,o=null===(t=e.tasks)||void 0===t?void 0:t.taskFHIRId;console.log("taskById",o);var i=[];null!==o&&(""!==n&&i.push({op:"replace",path:"/businessStatus/text",value:n}),""!==r&&i.push({op:"replace",path:"/businessStatus/text",value:n}),""!==a&&i.push({op:"replace",path:"/businessStatus/text",value:n}),console.log("payload",i),fe(o,i).then((function(t){e.getData(),e.onClose()})))}},"Save")))},we=n(127),xe=n.n(we),Oe=function(e){return e.map((function(e,t){var n,r,a,o,i,l,c,u,s,d,f,v,h,m,p,g,y,E,b,w,x,O,S,k,N,j,L,R,I=null===(n=e.extension)||void 0===n?void 0:n.find((function(e){return e.url.includes("StructureDefinition/us-core-race")})),A=I?null===I||void 0===I||null===(r=I.extension)||void 0===r||null===(a=r.find((function(e){return"text"===e.url})))||void 0===a?void 0:a.valueString:void 0,_=null===(o=e.extension)||void 0===o?void 0:o.find((function(e){return e.url.includes("StructureDefinition/us-core-birthsex")})),P=_?_.valueCode:void 0,D=null===(i=e.extension)||void 0===i?void 0:i.find((function(e){return e.url.includes("StructureDefinition/athena-patient-extension-genderIdentity")})),C=D?null===D||void 0===D||null===(l=D.valueCodeableConcept)||void 0===l?void 0:l.text:void 0,F=null===(c=e.extension)||void 0===c?void 0:c.find((function(e){return e.url.includes("StructureDefinition/athena-patient-extension-sexualOrientation")})),T=F?null===F||void 0===F||null===(u=F.valueCodeableConcept)||void 0===u?void 0:u.text:void 0,q=null===(s=e.identifier)||void 0===s||null===(d=s.find((function(e){var t;return null===e||void 0===e||null===(t=e.system)||void 0===t?void 0:t.includes("NamingSystem/identifier")})))||void 0===d?void 0:d.value,G=e.id,B=e.gender?(null===(f=e.gender)||void 0===f?void 0:f.charAt(0).toUpperCase())+e.gender.slice(1):void 0,Y=e.birthDate?new Date(e.birthDate):void 0,M=Y?Date.now()-Y.getTime():void 0,z=M?new Date(M):void 0,H=z?Math.abs(z.getUTCFullYear()-1970).toString():void 0,W=null===(v=e.extension)||void 0===v?void 0:v.find((function(e){return"http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity"===e.url})),U=W?null===(h=W.extension)||void 0===h||null===(m=h.find((function(e){return"text"===e.url})))||void 0===m?void 0:m.valueString:void 0;return{id:q,patientFhirId:G,fullName:null===(p=e.name)||void 0===p||null===(g=p[0])||void 0===g?void 0:g.text,firstName:null===(y=e.name)||void 0===y||null===(E=y[0])||void 0===E||null===(b=E.given)||void 0===b?void 0:b[0],lastName:null===(w=e.name)||void 0===w||null===(x=w[0])||void 0===x?void 0:x.family,birthDate:null===Y||void 0===Y?void 0:Y.toLocaleDateString(),gender:B,age:parseInt(null!==H&&void 0!==H?H:"0"),ethnicity:U,phone:null===(O=e.telecom)||void 0===O||null===(S=O.find((function(e){return"phone"===e.system})))||void 0===S?void 0:S.value,email:null===(k=e.telecom)||void 0===k||null===(N=k.find((function(e){return"email"===e.system})))||void 0===N?void 0:N.value,address:null===(j=e.address)||void 0===j||null===(L=j[0])||void 0===L||null===(R=L.line)||void 0===R?void 0:R[0],race:A,sexAtBirth:P,genderIdentity:C,sexualOrientation:T}}))},Se=function(e){return console.log("serviceRequests",e),e.map((function(e,t){var n,r,a,o,i,l,c,u;return{dateCreated:xe()(null===(n=e.meta)||void 0===n?void 0:n.lastUpdated).format("MM/DD/YYYY"),intialReferralNote:null===(r=e.note)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.text,referralID:null===(o=e.identifier)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value,serviceRequested:null===(l=e.code)||void 0===l?void 0:l.text,referralSource:null===(c=e.requester)||void 0===c?void 0:c.display,id:t,serviceRequestPatientId:null===(u=e.subject.reference)||void 0===u?void 0:u.replace("Patient/",""),serviceRequestFHIRId:null===e||void 0===e?void 0:e.id}}))},ke=function(e){return console.log("tasks",e),e.map((function(e,t){var n,r,a,o,i,l,c,u,s,d,f,v=xe()(e.authoredOn).format("MM/DD/YYYY"),h=null===(n=e.code)||void 0===n||null===(r=n.coding)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.display,m=e.status,p=(null===(o=e.focus)||void 0===o||null===(i=o.reference)||void 0===i?void 0:i.replace("ServiceRequest/",""))||"",g=(null===(l=e.for)||void 0===l||null===(c=l.reference)||void 0===c?void 0:c.replace("Patient/",""))||"",y=null===(u=e.owner)||void 0===u?void 0:u.display,E=null===(s=e.businessStatus)||void 0===s?void 0:s.text,b=null===(d=e.requester)||void 0===d?void 0:d.display;return{taskFHIRId:null===e||void 0===e?void 0:e.id,taskAuthoredDate:v,taskDescription:h,taskStatus:m,taskServiceRequestId:p,taskPatientId:g,taskOwner:y,taskBusinessStatus:E,taskRequester:b,id:t,taskNotes:null===(f=e.note)||void 0===f?void 0:f.map((function(e){var t;return{noteAuthoredDate:xe()(e.time).format("MM/DD/YYYY"),noteText:null===e||void 0===e?void 0:e.text,noteAuthor:null===(t=e.authorReference)||void 0===t?void 0:t.display}}))}}))},Ne=function(e){return console.log("practitionerRole",e),e.map((function(e){var t,n,r,a;return{practitionerName:null===(t=e.practitioner)||void 0===t?void 0:t.display,practitionerRoleId:null===e||void 0===e?void 0:e.id,practitionerid:null===e||void 0===e||null===(n=e.practitioner)||void 0===n||null===(r=n.reference)||void 0===r?void 0:r.replace("Practitioner/",""),practitionerOrganizationName:null===(a=e.organization)||void 0===a?void 0:a.display}}))},je=n(394),Le=n(409),Re=["children"];function Ie(){Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),l=new R(r||[]);return a(i,"_invoke",{value:k(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",v="executing",h="completed",m={};function p(){}function g(){}function y(){}var E={};u(E,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(E=w);var x=y.prototype=p.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=f;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?h:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,a(x,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}var Ae={Received:"info",Assigned:"success","In progress":"primary","Entered in HMIS":"secondary",Rejected:"error","Contact unsuccessful":"warning","On Hold":"error","Entered in error":"error"},_e=[{field:"taskAuthoredDate",headerName:"Date Requested",width:200},{field:"lastName",headerName:"Last name",width:140},{field:"firstName",headerName:"First Name",width:140},{field:"serviceRequested",headerName:"Service Requested",width:250},{field:"referralSource",headerName:"Referral Source",width:200},{field:"taskBusinessStatus",headerName:"Task Status",renderCell:function(e){return a.a.createElement(Le.a,{label:e.value,color:Ae[e.value]})},width:180}];var Pe=function(){var e=a.a.useState(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],o=a.a.useState([]),i=Object(O.a)(o,2),l=i[0],c=i[1],u=a.a.useState([]),s=Object(O.a)(u,2),d=s[0],f=s[1],v=a.a.useState([]),h=Object(O.a)(v,2),m=h[0],p=h[1],g=a.a.useState([]),E=Object(O.a)(g,2),I=E[0],A=E[1],_=a.a.useState([]),P=Object(O.a)(_,2),D=P[0],C=P[1],F=a.a.useState({}),T=Object(O.a)(F,2),q=T[0],G=T[1],B=a.a.useState({}),Y=Object(O.a)(B,2),M=Y[0],z=Y[1],H=a.a.useState({}),W=Object(O.a)(H,2),U=W[0],J=W[1];a.a.useEffect((function(){K()}),[]);var K=function(){var e=Object(x.a)(Ie().mark((function e(){var t,n,r,a,o,i,l,u,s,d,v,h,m,g;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:t=e.sent,n=t.patient.map((function(e){return e.resource})),r=t.serviceRequests.map((function(e){return e.resource})),a=t.tasks.map((function(e){return e.resource})),o=t.practitionerRole.map((function(e){return e.resource})),i=n.slice(1),l=r.slice(1),u=a.slice(1),s=o.slice(1),console.log("Patient data",i),console.log("ServiceRequestData",l),console.log("tasksData",u),console.log("practitionerRoleData",s),d=Oe(i),v=Se(l),h=ke(u),m=Ne(s),console.log("transformedPatient",d),console.log("transformedServices",v),console.log("transformedTasks",h),c(d),p(h),A(m),g=v.map((function(e){var t=d.find((function(t){return t.patientFhirId===e.serviceRequestPatientId})),n=h.find((function(t){return t.taskServiceRequestId===e.serviceRequestFHIRId}));return console.log("matchingPatient",t),console.log("matchingTask",n),t&&n&&"string"===typeof t.firstName&&"string"===typeof t.lastName&&"string"===typeof n.taskAuthoredDate&&"string"===typeof n.taskBusinessStatus?Object(w.a)(Object(w.a)({},e),{},{firstName:t.firstName,lastName:t.lastName,taskAuthoredDate:n.taskAuthoredDate,taskBusinessStatus:n.taskBusinessStatus}):null})).filter((function(e){return null!==e})),f(g),console.log("data",g);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,n?a.a.createElement(be,{open:!0,onClose:function(){r(!1),G(void 0)},patient:q,service:M,tasks:U,practitionerRole:D,getData:K}):null,a.a.createElement(S.a,{variant:"h6",mb:2},"New Referrals"),a.a.createElement("div",{style:{width:"100%"}},0===(null===d||void 0===d?void 0:d.length)?a.a.createElement(L.a,{component:function(e){var t=e.children,n=Object(b.a)(e,Re);return a.a.createElement(y.a,Object.assign({},n,{variant:"outlined"}),t)}},a.a.createElement(k.a,{sx:{minWidth:700},"aria-label":"simple table"},a.a.createElement(N.a,null,a.a.createElement(R.a,null,a.a.createElement(j.a,{colSpan:12},a.a.createElement("div",{className:"container "},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12"},a.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},"No New Referrals"))))))))):a.a.createElement(je.a,{rows:d,onRowClick:function(e){!function(e){var t=e.row,n=l.find((function(e){return e.patientFhirId===t.serviceRequestPatientId})),a=m.find((function(e){return e.taskServiceRequestId===t.serviceRequestFHIRId})),o=I;G(n),z(t),J(a),C(o),r(!0)}(e)},columns:_e,getRowId:function(e){return e.id},initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10]})))},De=["children"],Ce=[{field:"dateServed",headerName:"Date served",width:240},{field:"lastName",headerName:"Last name",width:190},{field:"firstName",headerName:"First Name",width:160},{field:"status",headerName:"Status",width:120},{field:"serviceRequested",headerName:"Service Requested",width:230},{field:"owner",headerName:"Owner",width:160}],Fe=[],Te=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{variant:"h6",mb:2},"Active Referrals"),a.a.createElement("div",{style:{width:"100%"}},0===Fe.length?a.a.createElement(L.a,{component:function(e){var t=e.children,n=Object(b.a)(e,De);return a.a.createElement(y.a,Object.assign({},n,{variant:"outlined"}),t)}},a.a.createElement(k.a,{sx:{minWidth:700},"aria-label":"simple table"},a.a.createElement(N.a,null,a.a.createElement(R.a,null,a.a.createElement(j.a,{colSpan:12},a.a.createElement("div",{className:"container "},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12"},a.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},"No Active Referrals"))))))))):a.a.createElement(je.a,{rows:Fe,columns:Ce,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10]})))},qe=["children"],Ge=[{field:"dateServed",headerName:"Date served",width:240},{field:"lastName",headerName:"Last name",width:190},{field:"firstName",headerName:"First Name",width:160},{field:"status",headerName:"Status",width:120},{field:"serviceRequested",headerName:"Service Requested",width:230},{field:"owner",headerName:"Owner",width:160}],Be=[],Ye=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{variant:"h6",mb:2},"Archive Referrals"),a.a.createElement("div",{style:{width:"100%"}},0===Be.length?a.a.createElement(L.a,{component:function(e){var t=e.children,n=Object(b.a)(e,qe);return a.a.createElement(y.a,Object.assign({},n,{variant:"outlined"}),t)}},a.a.createElement(k.a,{sx:{minWidth:700},"aria-label":"simple table"},a.a.createElement(N.a,null,a.a.createElement(R.a,null,a.a.createElement(j.a,{colSpan:12},a.a.createElement("div",{className:"container "},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-12"},a.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},"No Archive Referrals"))))))))):a.a.createElement(je.a,{rows:Be,columns:Ge,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10]})))},Me=function(){return a.a.createElement(p,null,a.a.createElement(g.a,{sx:{height:"100vh",paddingTop:"24px",paddingBottom:"24px"}},a.a.createElement(y.a,{variant:"outlined",sx:{padding:"16px",marginBottom:"24px"}},a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,sm:12,md:12,overflow:"auto"},a.a.createElement(Pe,null)))),a.a.createElement(y.a,{variant:"outlined",sx:{padding:"16px",marginBottom:"24px"}},a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,sm:12,md:12,overflow:"auto"},a.a.createElement(Te,null)))),a.a.createElement(y.a,{variant:"outlined",sx:{padding:"16px",marginBottom:"24px"}},a.a.createElement(E.a,{container:!0,spacing:2},a.a.createElement(E.a,{item:!0,sm:12,md:12,overflow:"auto"},a.a.createElement(Ye,null))))))},ze=n(393),He=n(78),We=function(){return a.a.createElement(g.a,null,a.a.createElement(S.a,{variant:"h1",color:He.a[400]},"Page not found"))},Ue=Object(f.a)(),Je=function(e){var t=e.authenticationState;return a.a.createElement(v.a,{theme:Ue},a.a.createElement(ze.a,null),a.a.createElement(s.a,{basename:"/acleap-referral"},"Authenticated"===t?a.a.createElement(d.c,null,a.a.createElement(d.a,{exact:!0,path:"/",component:Me}),a.a.createElement(d.a,{exact:!0,path:"/acleap-referral",component:Me}),a.a.createElement(d.a,{exact:!0,path:"/index.html",component:Me}),a.a.createElement(d.a,{path:"*",component:We})):a.a.createElement(d.c,null,a.a.createElement(d.a,{exact:!0,path:"/",component:Me}),a.a.createElement(d.a,{path:"*",component:We}))))},Ke=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(l.AzureAD,{provider:u}),a.a.createElement(l.AzureAD,{provider:u,forceLogin:!0},(function(e){var t=e.login,n=e.logout,r=e.authenticationState,o=e.error,i=e.accountInfo;switch(r){case l.AuthenticationState.Authenticated:return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"d-flex justify-content-between p-2"},a.a.createElement("span",{className:"mt-2"},"Welcome, ",i.account.name,"!"),a.a.createElement(m.a,{variant:"contained",onClick:n},"Logout")),a.a.createElement(Je,{authenticationState:r}));case l.AuthenticationState.Unauthenticated:return a.a.createElement("div",null,o&&a.a.createElement("p",null,a.a.createElement("span",null,"An error occurred during authentication, please try again!")),a.a.createElement("p",null,a.a.createElement("span",null,"Hey stranger, you look new!"),a.a.createElement("button",{onClick:t},"Login")));case l.AuthenticationState.InProgress:return a.a.createElement("p",null,"Authenticating...");default:return null}})))};i.a.render(a.a.createElement(l.AzureAD,{provider:u,forceLogin:!0},a.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[233,4,0,5]]]);